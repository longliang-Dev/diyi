<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
    content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>html5调用摄像头</title>
    <script>
        window.onload = function () {
            let video = document.getElementById('video');
            function successCallback(stream) {
                video.srcObject = stream;
                video.play();
            }
            if(navigator.mediaDevices.getUserMedia) {
                navigator.mediaDevices.getUserMedia({ video: true }) // 参数改为对象格式
                .then(successCallback)
                .catch(error => alert("无法访问摄像头：" + error));
            } else {
                alert('浏览器不支持getUserMedia');
            }
        }; // 补全函数闭合
    </script>
</head>
<body>
    <video id="video" width="620" autoplay></video> <!-- 修正闭合标签 -->
</body>
</html>